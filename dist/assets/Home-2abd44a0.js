import{C as w}from"./CardList-314aebcd.js";import{_ as u,o as s,c as i,a as t,t as F,s as p,r as _,F as P,b as C,d as m,e as S,w as g,v as f}from"./index-a237a5c4.js";const k={props:{id:{type:Number},title:{type:String},image:{type:String,default:"none"}},data(){return{edited:!0}},methods:{toggleEdit(){this.edited=!this.edited}}},b=["data-id"],v=["src"],E={class:"inline-card__title"},L=t("i",{class:"contact__icon material-symbols-outlined"},"delete",-1),x=["data-id"],$=["src"],N=["placeholder"];function A(r,l,n,h,a,e){return a.edited?(s(),i("div",{key:1,"data-id":n.id,class:"inline-card"},[t("img",{src:n.image,class:"inline-card__img"},null,8,$),t("input",{type:"text",class:"inline-card__title",placeholder:n.title},null,8,N),t("i",{class:"contact__icon material-symbols-outlined",onClick:l[1]||(l[1]=(...o)=>e.toggleEdit&&e.toggleEdit(...o))},"done")],8,x)):(s(),i("div",{key:0,"data-id":n.id,class:"inline-card"},[t("img",{src:n.image,class:"inline-card__img"},null,8,v),t("p",E,F(n.title),1),t("i",{class:"contact__icon material-symbols-outlined",onClick:l[0]||(l[0]=(...o)=>e.toggleEdit&&e.toggleEdit(...o))},"edit"),L],8,b))}const B=u(k,[["render",A]]),D={data(){return{store:p,currentPlaylist:{id:void 0,image:void 0,name:void 0,songs:void 0,edited:!0}}},methods:{addPlaylist(){this.currentPlaylist.id=Date.now(),this.currentPlaylist.title="test",this.store.list.playlist.items.push(this.currentPlaylist),console.log(this.store)}},components:{InlineCard:B}},I={class:"form-playlist"},R=t("h1",{class:"form-playlist__title"},"Enregistrer dans",-1),V={key:0,class:"form-playlist__list"};function T(r,l,n,h,a,e){const o=_("InlineCard");return s(),i("div",I,[R,this.store.list.playlist.items.length>0?(s(),i("ul",V,[(s(!0),i(P,null,C(a.store.list.playlist.items,d=>(s(),i("li",null,[m(o,{id:d.id,title:d.title},null,8,["id","title"])]))),256))])):S("",!0),t("i",{class:"form-playlist__add material-symbols-outlined",onClick:l[0]||(l[0]=(...d)=>e.addPlaylist&&e.addPlaylist(...d))}," add ")])}const q=u(D,[["render",T]]),z={name:"App",data(){return{store:p,showPlaylistForm:!1}},components:{CardList:w,PlaylistForm:q},methods:{showForm(r){this.showPlaylistForm||(this.store.clickedSong=r,this.showPlaylistForm=!0,document.querySelector(".container__lists").classList.add("blur"))}},async created(){await this.store.initialize()}},H={class:"container"},j={class:"container__lists"},G={class:"container__lists__item"};function J(r,l,n,h,a,e){const o=_("PlaylistForm"),d=_("CardList");return s(),i("main",H,[g(m(o,null,null,512),[[f,a.showPlaylistForm]]),t("ul",j,[(s(!0),i(P,null,C(a.store.list,(c,y)=>(s(),i("li",G,[g(m(d,{detailRoute:c.detailRoute,name:y,isSongList:y==="songs",title:c.title,cards:c.items,onAddSongToPlaylist:e.showForm},null,8,["detailRoute","name","isSongList","title","cards","onAddSongToPlaylist"]),[[f,c.items.length>0]])]))),256))])])}const O=u(z,[["render",J]]);export{O as default};
